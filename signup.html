<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Signup Page</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>

  <body class="signup login">
    <div class="nav" id="nav"></div>

    <div class="card">
      <form action="" id="form">
        <h1>Signup</h1>
        <p>
          Thank you for choosing our website, and we look forward to serving you
        </p>

        <br />
        <label for="username">Username</label>
        <input id="username" type="text" placeholder="Username" />

        <br />
        <label for="email">Email</label>
        <input id="email" type="email" placeholder="Email" />

        <br />
        <label for="password">Password</label>
        <input id="password" type="password" placeholder="Password" />

        <div id="error" style="color: red; margin-top: 10px"></div>
        <button type="submit">Submit</button>

        <p class="centerMessage">
          Already have an account? <a href="./login.html">Login</a>
        </p>
      </form>
      <div class="img" id="imagesanimation">
        <img
          src="https://images.unsplash.com/photo-1468174482686-1047396f13b3?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
          alt=""
        />
      </div>
    </div>

    <script src="./assets/fetchNav.js"></script>
    <script>
      $(document).ready(function () {
        $("#form").on("submit", function (e) {
          e.preventDefault();

          let username = $("#username").val();
          let email = $("#email").val();
          let password = $("#password").val();
          let errorElement = $("#error");

          errorElement.html("");

          let isUsernameValid = validateUsername(username, errorElement);
          let isEmailValid = validateEmail(email, errorElement);
          let isPasswordValid = validatePassword(password, errorElement);

          if (isUsernameValid && isEmailValid && isPasswordValid) {
            alert("Signup successful!");
          }
        });

        function validateUsername(username, errorElement) {
          if (username.length < 3) {
            errorElement.append(
              "Username must be at least 3 characters long.<br>"
            );
            return false;
          }
          return true;
        }

        function validateEmail(email, errorElement) {
          const emailPattern =
            /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
          if (!emailPattern.test(email)) {
            errorElement.append("Please enter a valid email address.<br>");
            return false;
          }
          return true;
        }

        function validatePassword(password, errorElement) {
          if (password.length < 6) {
            errorElement.append(
              "Password must be at least 6 characters long.<br>"
            );
            return false;
          }
          return true;
        }

        fetchNav("nav");
      });
    </script>
  </body>
</html>
